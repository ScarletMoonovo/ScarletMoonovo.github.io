(self.webpackChunkmoon_antd_frontend_init=self.webpackChunkmoon_antd_frontend_init||[]).push([[15],{49495:function(L,O){"use strict";var n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};O.Z=n},69753:function(L,O,n){"use strict";var P=n(1413),i=n(67294),j=n(49495),d=n(91146),v=function(m,y){return i.createElement(d.Z,(0,P.Z)((0,P.Z)({},m),{},{ref:y,icon:j.Z}))},c=i.forwardRef(v);O.Z=c},2686:function(L,O,n){"use strict";n.r(O);var P=n(15009),i=n.n(P),j=n(99289),d=n.n(j),v=n(5574),c=n.n(v),p=n(97112),m=n(76772),y=n(69753),A=n(90930),t=n(25040),a=n(2453),f=n(83622),s=n(4393),l=n(71230),I=n(15746),U=n(42075),B=n(71471),C=n(96074),w=n(47221),E=n(55102),x=n(95715),K=n(93162),z=n.n(K),b=n(67294),_=n(85893),G=function(){var r,u,D=(0,m.useParams)(),e=D.id,X=t.Z.useForm(),Y=c()(X,1),F=Y[0],J=(0,b.useState)(!1),$=c()(J,2),Q=$[0],V=$[1],q=(0,b.useState)({}),N=c()(q,2),T=N[0],ee=N[1],ne=(0,m.useModel)("@@initialState"),Z=ne.initialState,te=Z!=null?Z:{},re=te.currentUser,ae=(0,b.useState)(!1),H=c()(ae,2),oe=H[0],k=H[1],se=(r=T==null||(u=T.modelConfig)===null||u===void 0?void 0:u.models)!==null&&r!==void 0?r:[],_e=function(){var g=d()(i()().mark(function M(){var R;return i()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(e){h.next=2;break}return h.abrupt("return");case 2:return V(!0),h.prev=3,h.next=6,(0,p.vu)({id:e});case 6:R=h.sent,ee(R.data||{}),h.next=13;break;case 10:h.prev=10,h.t0=h.catch(3),a.ZP.error("\u83B7\u53D6\u6570\u636E\u5931\u8D25\uFF0C"+h.t0.message);case 13:V(!1);case 14:case"end":return h.stop()}},M,null,[[3,10]])}));return function(){return g.apply(this,arguments)}}();(0,b.useEffect)(function(){_e()},[e]);var ie=T.distPath&&re&&(0,_.jsx)(f.ZP,{type:"primary",icon:(0,_.jsx)(y.Z,{}),loading:oe,onClick:d()(i()().mark(function g(){var M,R,W;return i()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return k(!0),M=F.getFieldsValue(),S.next=4,(0,p.cT)({id:T.id,dataModel:M},{responseType:"blob"});case 4:R=S.sent,W=T.distPath||"",(0,K.saveAs)(R,W.substring(W.lastIndexOf("/")+1)),k(!1);case 8:case"end":return S.stop()}},g)})),children:"\u751F\u6210\u4EE3\u7801"});return(0,_.jsx)(A._z,{title:(0,_.jsx)(_.Fragment,{}),loading:Q,children:(0,_.jsx)(s.Z,{children:(0,_.jsxs)(l.Z,{justify:"space-between",gutter:[32,32],children:[(0,_.jsxs)(I.Z,{flex:"auto",children:[(0,_.jsx)(U.Z,{size:"large",align:"center",children:(0,_.jsx)(B.Z.Title,{level:4,children:T.name})}),(0,_.jsx)(B.Z.Paragraph,{children:T.description}),(0,_.jsx)(C.Z,{}),(0,_.jsx)(t.Z,{form:F,children:se.map(function(g,M){return g.groupKey?g.models?(0,_.jsx)(w.Z,{style:{marginBottom:24},items:[{key:M,label:g.groupName+"\uFF08\u5206\u7EC4\uFF09",children:g.models.map(function(R,W){return(0,_.jsx)(t.Z.Item,{label:R.fieldName,name:[g.groupKey,R.fieldName],children:(0,_.jsx)(E.Z,{placeholder:R.description})},W)})}],bordered:!1,defaultActiveKey:[M]},M):(0,_.jsx)(_.Fragment,{}):(0,_.jsx)(t.Z.Item,{label:g.fieldName,name:g.fieldName,children:(0,_.jsx)(E.Z,{placeholder:g.description})},M)})}),(0,_.jsx)("div",{style:{marginBottom:24}}),(0,_.jsxs)(U.Z,{size:"middle",children:[ie,(0,_.jsx)(m.Link,{to:"/generator/detail/".concat(e),children:(0,_.jsx)(f.ZP,{children:"\u67E5\u770B\u8BE6\u60C5"})})]})]}),(0,_.jsx)(I.Z,{flex:"320px",children:(0,_.jsx)(x.Z,{src:T.picture})})]})})})};O.default=G},97112:function(L,O,n){"use strict";n.d(O,{T:function(){return a},X9:function(){return s},cT:function(){return _},hL:function(){return A},or:function(){return z},qM:function(){return m},qz:function(){return B},vu:function(){return I}});var P=n(15009),i=n.n(P),j=n(97857),d=n.n(j),v=n(99289),c=n.n(v),p=n(76772);function m(o,r){return y.apply(this,arguments)}function y(){return y=c()(i()().mark(function o(r,u){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/api/generator/add",d()({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},o)})),y.apply(this,arguments)}function A(o,r){return t.apply(this,arguments)}function t(){return t=c()(i()().mark(function o(r,u){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/api/generator/delete",d()({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},o)})),t.apply(this,arguments)}function a(o,r){return f.apply(this,arguments)}function f(){return f=c()(i()().mark(function o(r,u){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/api/generator/download",d()({method:"GET",params:d()({},r)},u||{})));case 1:case"end":return e.stop()}},o)})),f.apply(this,arguments)}function s(o,r){return l.apply(this,arguments)}function l(){return l=c()(i()().mark(function o(r,u){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/api/generator/edit",d()({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},o)})),l.apply(this,arguments)}function I(o,r){return U.apply(this,arguments)}function U(){return U=c()(i()().mark(function o(r,u){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/api/generator/get/vo",d()({method:"GET",params:d()({},r)},u||{})));case 1:case"end":return e.stop()}},o)})),U.apply(this,arguments)}function B(o,r){return C.apply(this,arguments)}function C(){return C=c()(i()().mark(function o(r,u){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/api/generator/list/page",d()({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},o)})),C.apply(this,arguments)}function w(o,r){return E.apply(this,arguments)}function E(){return E=_asyncToGenerator(_regeneratorRuntime().mark(function o(r,u){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/generator/list/page/vo",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},o)})),E.apply(this,arguments)}function x(o,r){return K.apply(this,arguments)}function K(){return K=_asyncToGenerator(_regeneratorRuntime().mark(function o(r,u){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/generator/my/list/page/vo",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},o)})),K.apply(this,arguments)}function z(o,r){return b.apply(this,arguments)}function b(){return b=c()(i()().mark(function o(r,u){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/api/generator/update",d()({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},o)})),b.apply(this,arguments)}function _(o,r){return G.apply(this,arguments)}function G(){return G=c()(i()().mark(function o(r,u){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/api/generator/use",d()({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},o)})),G.apply(this,arguments)}},93162:function(L,O,n){var P,i,j;(function(d,v){i=[],P=v,j=typeof P=="function"?P.apply(O,i):P,j!==void 0&&(L.exports=j)})(this,function(){"use strict";function d(t,a){return typeof a=="undefined"?a={autoBom:!1}:typeof a!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\uFEFF",t],{type:t.type}):t}function v(t,a,f){var s=new XMLHttpRequest;s.open("GET",t),s.responseType="blob",s.onload=function(){A(s.response,a,f)},s.onerror=function(){console.error("could not download file")},s.send()}function c(t){var a=new XMLHttpRequest;a.open("HEAD",t,!1);try{a.send()}catch(f){}return 200<=a.status&&299>=a.status}function p(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(f){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(a)}}var m=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof n.g=="object"&&n.g.global===n.g?n.g:void 0,y=m.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),A=m.saveAs||(typeof window!="object"||window!==m?function(){}:"download"in HTMLAnchorElement.prototype&&!y?function(t,a,f){var s=m.URL||m.webkitURL,l=document.createElement("a");a=a||t.name||"download",l.download=a,l.rel="noopener",typeof t=="string"?(l.href=t,l.origin===location.origin?p(l):c(l.href)?v(t,a,f):p(l,l.target="_blank")):(l.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(l.href)},4e4),setTimeout(function(){p(l)},0))}:"msSaveOrOpenBlob"in navigator?function(t,a,f){if(a=a||t.name||"download",typeof t!="string")navigator.msSaveOrOpenBlob(d(t,f),a);else if(c(t))v(t,a,f);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){p(s)})}}:function(t,a,f,s){if(s=s||open("","_blank"),s&&(s.document.title=s.document.body.innerText="downloading..."),typeof t=="string")return v(t,a,f);var l=t.type==="application/octet-stream",I=/constructor/i.test(m.HTMLElement)||m.safari,U=/CriOS\/[\d]+/.test(navigator.userAgent);if((U||l&&I||y)&&typeof FileReader!="undefined"){var B=new FileReader;B.onloadend=function(){var E=B.result;E=U?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=E:location=E,s=null},B.readAsDataURL(t)}else{var C=m.URL||m.webkitURL,w=C.createObjectURL(t);s?s.location=w:location.href=w,s=null,setTimeout(function(){C.revokeObjectURL(w)},4e4)}});m.saveAs=A.saveAs=A,L.exports=A})}}]);
