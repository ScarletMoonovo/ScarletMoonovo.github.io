(self.webpackChunkmoon_antd_frontend_init=self.webpackChunkmoon_antd_frontend_init||[]).push([[15],{49495:function(I,O){"use strict";var n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};O.Z=n},69753:function(I,O,n){"use strict";var P=n(1413),s=n(67294),j=n(49495),l=n(91146),v=function(p,y){return s.createElement(l.Z,(0,P.Z)((0,P.Z)({},p),{},{ref:y,icon:j.Z}))},d=s.forwardRef(v);O.Z=d},2686:function(I,O,n){"use strict";n.r(O);var P=n(15009),s=n.n(P),j=n(99289),l=n.n(j),v=n(5574),d=n.n(v),m=n(97112),p=n(76772),y=n(69753),B=n(90930),t=n(25040),a=n(2453),f=n(83622),_=n(4393),c=n(71230),w=n(15746),U=n(42075),R=n(71471),C=n(96074),L=n(47221),E=n(55102),x=n(95715),K=n(93162),z=n.n(K),b=n(67294),i=n(85893),G=function(){var r,u,D=(0,p.useParams)(),e=D.id,X=t.Z.useForm(),Y=d()(X,1),F=Y[0],J=(0,b.useState)(!1),$=d()(J,2),Q=$[0],V=$[1],q=(0,b.useState)({}),N=d()(q,2),T=N[0],ee=N[1],ne=(0,p.useModel)("@@initialState"),Z=ne.initialState,te=Z!=null?Z:{},re=te.currentUser,ae=(0,b.useState)(!1),H=d()(ae,2),oe=H[0],k=H[1],se=(r=T==null||(u=T.modelConfig)===null||u===void 0?void 0:u.models)!==null&&r!==void 0?r:[],_e=function(){var g=l()(s()().mark(function M(){var A;return s()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(e){h.next=2;break}return h.abrupt("return");case 2:return V(!0),h.prev=3,h.next=6,(0,m.vu)({id:e});case 6:A=h.sent,ee(A.data||{}),h.next=13;break;case 10:h.prev=10,h.t0=h.catch(3),a.ZP.error("\u83B7\u53D6\u6570\u636E\u5931\u8D25\uFF0C"+h.t0.message);case 13:V(!1);case 14:case"end":return h.stop()}},M,null,[[3,10]])}));return function(){return g.apply(this,arguments)}}();(0,b.useEffect)(function(){_e()},[e]);var ie=T.distPath&&re&&(0,i.jsx)(f.ZP,{type:"primary",icon:(0,i.jsx)(y.Z,{}),loading:oe,onClick:l()(s()().mark(function g(){var M,A,W;return s()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return k(!0),M=F.getFieldsValue(),S.next=4,(0,m.cT)({id:T.id,dataModel:M},{responseType:"blob"});case 4:A=S.sent,W=T.distPath||"",(0,K.saveAs)(A,W.substring(W.lastIndexOf("/")+1)),k(!1);case 8:case"end":return S.stop()}},g)})),children:"\u751F\u6210\u4EE3\u7801"});return(0,i.jsx)(B._z,{title:(0,i.jsx)(i.Fragment,{}),loading:Q,children:(0,i.jsx)(_.Z,{children:(0,i.jsxs)(c.Z,{justify:"space-between",gutter:[32,32],children:[(0,i.jsxs)(w.Z,{flex:"auto",children:[(0,i.jsx)(U.Z,{size:"large",align:"center",children:(0,i.jsx)(R.Z.Title,{level:4,children:T.name})}),(0,i.jsx)(R.Z.Paragraph,{children:T.description}),(0,i.jsx)(C.Z,{}),(0,i.jsx)(t.Z,{form:F,children:se.map(function(g,M){return g.groupKey?g.models?(0,i.jsx)(L.Z,{style:{marginBottom:24},items:[{key:M,label:g.groupName+"\uFF08\u5206\u7EC4\uFF09",children:g.models.map(function(A,W){return(0,i.jsx)(t.Z.Item,{label:A.fieldName,name:[g.groupKey,A.fieldName],children:(0,i.jsx)(E.Z,{placeholder:A.description})},W)})}],bordered:!1,defaultActiveKey:[M]},M):(0,i.jsx)(i.Fragment,{}):(0,i.jsx)(t.Z.Item,{label:g.fieldName,name:g.fieldName,children:(0,i.jsx)(E.Z,{placeholder:g.description})},M)})}),(0,i.jsx)("div",{style:{marginBottom:24}}),(0,i.jsxs)(U.Z,{size:"middle",children:[ie,(0,i.jsx)(p.Link,{to:"/generator/detail/".concat(e),children:(0,i.jsx)(f.ZP,{children:"\u67E5\u770B\u8BE6\u60C5"})})]})]}),(0,i.jsx)(w.Z,{flex:"320px",children:(0,i.jsx)(x.Z,{src:T.picture})})]})})})};O.default=G},97112:function(I,O,n){"use strict";n.d(O,{M1:function(){return L},T:function(){return a},X9:function(){return _},cT:function(){return i},hL:function(){return B},or:function(){return z},qM:function(){return p},qz:function(){return R},vu:function(){return w}});var P=n(15009),s=n.n(P),j=n(97857),l=n.n(j),v=n(99289),d=n.n(v),m=n(76772);function p(o,r){return y.apply(this,arguments)}function y(){return y=d()(s()().mark(function o(r,u){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/generator/add",l()({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},o)})),y.apply(this,arguments)}function B(o,r){return t.apply(this,arguments)}function t(){return t=d()(s()().mark(function o(r,u){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/generator/delete",l()({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},o)})),t.apply(this,arguments)}function a(o,r){return f.apply(this,arguments)}function f(){return f=d()(s()().mark(function o(r,u){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/generator/download",l()({method:"GET",params:l()({},r)},u||{})));case 1:case"end":return e.stop()}},o)})),f.apply(this,arguments)}function _(o,r){return c.apply(this,arguments)}function c(){return c=d()(s()().mark(function o(r,u){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/generator/edit",l()({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},o)})),c.apply(this,arguments)}function w(o,r){return U.apply(this,arguments)}function U(){return U=d()(s()().mark(function o(r,u){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/generator/get/vo",l()({method:"GET",params:l()({},r)},u||{})));case 1:case"end":return e.stop()}},o)})),U.apply(this,arguments)}function R(o,r){return C.apply(this,arguments)}function C(){return C=d()(s()().mark(function o(r,u){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/generator/list/page",l()({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},o)})),C.apply(this,arguments)}function L(o,r){return E.apply(this,arguments)}function E(){return E=d()(s()().mark(function o(r,u){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/generator/list/page/vo",l()({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},o)})),E.apply(this,arguments)}function x(o,r){return K.apply(this,arguments)}function K(){return K=_asyncToGenerator(_regeneratorRuntime().mark(function o(r,u){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/generator/my/list/page/vo",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},o)})),K.apply(this,arguments)}function z(o,r){return b.apply(this,arguments)}function b(){return b=d()(s()().mark(function o(r,u){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/generator/update",l()({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},o)})),b.apply(this,arguments)}function i(o,r){return G.apply(this,arguments)}function G(){return G=d()(s()().mark(function o(r,u){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/generator/use",l()({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},o)})),G.apply(this,arguments)}},93162:function(I,O,n){var P,s,j;(function(l,v){s=[],P=v,j=typeof P=="function"?P.apply(O,s):P,j!==void 0&&(I.exports=j)})(this,function(){"use strict";function l(t,a){return typeof a=="undefined"?a={autoBom:!1}:typeof a!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\uFEFF",t],{type:t.type}):t}function v(t,a,f){var _=new XMLHttpRequest;_.open("GET",t),_.responseType="blob",_.onload=function(){B(_.response,a,f)},_.onerror=function(){console.error("could not download file")},_.send()}function d(t){var a=new XMLHttpRequest;a.open("HEAD",t,!1);try{a.send()}catch(f){}return 200<=a.status&&299>=a.status}function m(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(f){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(a)}}var p=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof n.g=="object"&&n.g.global===n.g?n.g:void 0,y=p.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),B=p.saveAs||(typeof window!="object"||window!==p?function(){}:"download"in HTMLAnchorElement.prototype&&!y?function(t,a,f){var _=p.URL||p.webkitURL,c=document.createElement("a");a=a||t.name||"download",c.download=a,c.rel="noopener",typeof t=="string"?(c.href=t,c.origin===location.origin?m(c):d(c.href)?v(t,a,f):m(c,c.target="_blank")):(c.href=_.createObjectURL(t),setTimeout(function(){_.revokeObjectURL(c.href)},4e4),setTimeout(function(){m(c)},0))}:"msSaveOrOpenBlob"in navigator?function(t,a,f){if(a=a||t.name||"download",typeof t!="string")navigator.msSaveOrOpenBlob(l(t,f),a);else if(d(t))v(t,a,f);else{var _=document.createElement("a");_.href=t,_.target="_blank",setTimeout(function(){m(_)})}}:function(t,a,f,_){if(_=_||open("","_blank"),_&&(_.document.title=_.document.body.innerText="downloading..."),typeof t=="string")return v(t,a,f);var c=t.type==="application/octet-stream",w=/constructor/i.test(p.HTMLElement)||p.safari,U=/CriOS\/[\d]+/.test(navigator.userAgent);if((U||c&&w||y)&&typeof FileReader!="undefined"){var R=new FileReader;R.onloadend=function(){var E=R.result;E=U?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),_?_.location.href=E:location=E,_=null},R.readAsDataURL(t)}else{var C=p.URL||p.webkitURL,L=C.createObjectURL(t);_?_.location=L:location.href=L,_=null,setTimeout(function(){C.revokeObjectURL(L)},4e4)}});p.saveAs=B.saveAs=B,I.exports=B})}}]);
