"use strict";(self.webpackChunkmoon_antd_frontend_init=self.webpackChunkmoon_antd_frontend_init||[]).push([[827],{50674:function(Q,A,r){r.r(A),r.d(A,{default:function(){return se}});var L=r(15009),s=r.n(L),K=r(99289),h=r.n(K),V=r(5574),g=r.n(V),m=r(4393),w=r(68997),P=r(67294),e=r(85893),T=function(x){var p=x.data,c=p==null?void 0:p.user;return c?(0,e.jsx)("div",{style:{marginTop:16},children:(0,e.jsx)(m.Z.Meta,{avatar:(0,e.jsx)(w.Z,{size:64,src:c.userAvatar}),title:c.userName,description:c.userProfile})}):(0,e.jsx)(e.Fragment,{})},z=T,C=r(56717),S=r(97245),y=r(26412),I=r(96074),Z=function(x){var p=x.data,c=p==null?void 0:p.fileConfig;if(!c)return(0,e.jsx)(e.Fragment,{});var F=[{key:"inputRootPath",label:"\u8F93\u5165\u6839\u8DEF\u5F84",children:(0,e.jsx)("p",{children:c.inputRootPath})},{key:"outputRootPath",label:"\u8F93\u51FA\u6839\u8DEF\u5F84",children:(0,e.jsx)("p",{children:c.outputRootPath})},{key:"sourceRootPath",label:"\u9879\u76EE\u6839\u8DEF\u5F84",children:(0,e.jsx)("p",{children:c.sourceRootPath})},{key:"type",label:"\u6587\u4EF6\u7C7B\u522B",children:(0,e.jsx)("p",{children:c.type})}],B=function _(u){return u?(0,e.jsx)(e.Fragment,{children:u.map(function(d,i){if(d.groupKey){var O=[{key:"groupKey",label:"\u5206\u7EC4key",children:(0,e.jsx)("p",{children:d.groupKey})},{key:"groupName",label:"\u5206\u7EC4\u540D",children:(0,e.jsx)("p",{children:d.groupName})},{key:"condition",label:"\u6761\u4EF6",children:(0,e.jsx)("p",{children:d.condition})},{key:"files",label:"\u7EC4\u5185\u6587\u4EF6",children:(0,e.jsx)("p",{children:_(d.files)})}];return(0,e.jsx)(y.Z,{column:1,title:d.groupName,items:O},i)}var H=[{key:"inputPath",label:"\u8F93\u5165\u8DEF\u5F84",children:(0,e.jsx)("p",{children:d.inputPath})},{key:"outputPath",label:"\u8F93\u51FA\u8DEF\u5F84",children:(0,e.jsx)("p",{children:d.outputPath})},{key:"type",label:"\u6587\u4EF6\u7C7B\u522B",children:(0,e.jsx)("p",{children:d.type})},{key:"generateType",label:"\u6587\u4EF6\u751F\u6210\u7C7B\u522B",children:(0,e.jsx)("p",{children:d.generateType})},{key:"condition",label:"\u6761\u4EF6",children:(0,e.jsx)("p",{children:d.condition})}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(y.Z,{column:2,items:H},i),(0,e.jsx)(I.Z,{})]})})}):(0,e.jsx)(e.Fragment,{})};return(0,e.jsxs)("div",{children:[(0,e.jsx)(y.Z,{title:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(C.Z,{})," \u57FA\u672C\u4FE1\u606F"]}),column:2,items:F}),(0,e.jsx)("div",{style:{marginBottom:16}}),(0,e.jsx)(y.Z,{title:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(S.Z,{})," \u6587\u4EF6\u5217\u8868"]})}),B(c.files)]})},$=Z,U=function(x){var p=x.data,c=p==null?void 0:p.modelConfig;if(!c)return(0,e.jsx)(e.Fragment,{});var F=function B(_){return _?(0,e.jsx)(e.Fragment,{children:_.map(function(u,d){if(u.groupKey){var i=[{key:"groupKey",label:"\u5206\u7EC4key",children:(0,e.jsx)("p",{children:u.groupKey})},{key:"groupName",label:"\u5206\u7EC4\u540D",children:(0,e.jsx)("p",{children:u.groupName})},{key:"condition",label:"\u6761\u4EF6",children:(0,e.jsx)("p",{children:u.condition})},{key:"models",label:"\u7EC4\u5185\u6A21\u578B",children:(0,e.jsx)("p",{children:B(u.models)})}];return(0,e.jsx)(y.Z,{column:1,title:u.groupName,items:i},d)}var O=[{key:"fieldName",label:"\u5B57\u6BB5\u540D\u79F0",children:(0,e.jsx)("p",{children:u.fieldName})},{key:"type",label:"\u7C7B\u578B",children:(0,e.jsx)("p",{children:u.type})},{key:"description",label:"\u63CF\u8FF0",children:(0,e.jsx)("p",{children:u.description})},{key:"defaultValue",label:"\u9ED8\u8BA4\u503C",children:(0,e.jsx)("p",{children:u.defaultValue})},{key:"abbr",label:"\u7F29\u5199",children:(0,e.jsx)("p",{children:u.abbr})},{key:"condition",label:"\u6761\u4EF6",children:(0,e.jsx)("p",{children:u.condition})}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(y.Z,{column:2,items:O},d),(0,e.jsx)(I.Z,{})]})})}):(0,e.jsx)(e.Fragment,{})};return(0,e.jsxs)("div",{children:[(0,e.jsx)(y.Z,{title:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(S.Z,{})," \u6A21\u578B\u5217\u8868"]})}),F(c.models)]})},N=U,b=r(97112),R=r(76772),G=r(69753),W=r(47389),D=r(90930),Y=r(2453),E=r(66309),t=r(83622),a=r(71230),o=r(15746),f=r(42075),n=r(71471),q=r(95715),ee=r(11941),ne=r(93162),re=r(27484),te=r.n(re),ae=function(){var x=(0,R.useParams)(),p=x.id,c=(0,P.useState)(!1),F=g()(c,2),B=F[0],_=F[1],u=(0,P.useState)({}),d=g()(u,2),i=d[0],O=d[1],H=(0,R.useModel)("@@initialState"),J=H.initialState,ie=J!=null?J:{},k=ie.currentUser,oe=(k==null?void 0:k.id)===(i==null?void 0:i.userId),le=function(){var M=h()(s()().mark(function v(){var j;return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(p){l.next=2;break}return l.abrupt("return");case 2:return _(!0),l.prev=3,l.next=6,(0,b.vu)({id:p});case 6:j=l.sent,console.log("\u83B7\u53D6\u751F\u6210\u5668\u6570\u636E",j),O(j.data||{}),l.next=14;break;case 11:l.prev=11,l.t0=l.catch(3),Y.ZP.error("\u83B7\u53D6\u6570\u636E\u5931\u8D25\uFF0C"+l.t0.message);case 14:_(!1);case 15:case"end":return l.stop()}},v,null,[[3,11]])}));return function(){return M.apply(this,arguments)}}();(0,P.useEffect)(function(){le()},[p]);var ue=function(v){return v?(0,e.jsx)("div",{style:{marginBottom:8},children:v.map(function(j){return(0,e.jsx)(E.Z,{children:j},j)})}):(0,e.jsx)(e.Fragment,{})},de=i.distPath&&k&&(0,e.jsx)(t.ZP,{icon:(0,e.jsx)(G.Z,{}),onClick:h()(s()().mark(function M(){var v,j;return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,b.T)({id:i.id},{responseType:"blob"});case 2:v=l.sent,j=i.distPath||"",(0,ne.saveAs)(v,j.substring(j.lastIndexOf("/")+1));case 5:case"end":return l.stop()}},M)})),children:"\u4E0B\u8F7D"}),ce=oe&&(0,e.jsx)(R.Link,{to:"/generator/update?id=".concat(i.id),children:(0,e.jsx)(t.ZP,{icon:(0,e.jsx)(W.Z,{}),children:"\u7F16\u8F91"})});return(0,e.jsxs)(D._z,{title:(0,e.jsx)(e.Fragment,{}),loading:B,children:[(0,e.jsx)(m.Z,{children:(0,e.jsxs)(a.Z,{justify:"space-between",gutter:[32,32],children:[(0,e.jsxs)(o.Z,{flex:"auto",children:[(0,e.jsxs)(f.Z,{size:"large",align:"center",children:[(0,e.jsx)(n.Z.Title,{level:4,children:i.name}),ue(i.tags)]}),(0,e.jsx)(n.Z.Paragraph,{children:i.description}),(0,e.jsxs)(n.Z.Paragraph,{type:"secondary",children:["\u521B\u5EFA\u65F6\u95F4\uFF1A",te()(i.createTime).format("YYYY-MM-DD hh:mm:ss")]}),(0,e.jsxs)(n.Z.Paragraph,{type:"secondary",children:["\u57FA\u7840\u5305\uFF1A",i.basePackage]}),(0,e.jsxs)(n.Z.Paragraph,{type:"secondary",children:["\u7248\u672C\uFF1A",i.version]}),(0,e.jsxs)(n.Z.Paragraph,{type:"secondary",children:["\u4F5C\u8005\uFF1A",i.author]}),(0,e.jsx)("div",{style:{marginBottom:24}}),(0,e.jsxs)(f.Z,{size:"middle",children:[(0,e.jsx)(t.ZP,{type:"primary",children:"\u7ACB\u5373\u4F7F\u7528"}),de,ce]})]}),(0,e.jsx)(o.Z,{flex:"320px",children:(0,e.jsx)(q.Z,{src:i.picture})})]})}),(0,e.jsx)("div",{style:{marginBottom:24}}),(0,e.jsx)(m.Z,{children:(0,e.jsx)(ee.Z,{size:"large",defaultActiveKey:"fileConfig",onChange:function(){},items:[{key:"fileConfig",label:"\u6587\u4EF6\u914D\u7F6E",children:(0,e.jsx)($,{data:i})},{key:"modelConfig",label:"\u6A21\u578B\u914D\u7F6E",children:(0,e.jsx)(N,{data:i})},{key:"userInfo",label:"\u4F5C\u8005\u4FE1\u606F",children:(0,e.jsx)(z,{data:i})}]})})]})},se=ae},97112:function(Q,A,r){r.d(A,{M1:function(){return N},T:function(){return z},X9:function(){return S},cT:function(){return Y},hL:function(){return e},or:function(){return W},qM:function(){return w},qz:function(){return $},vu:function(){return I}});var L=r(15009),s=r.n(L),K=r(97857),h=r.n(K),V=r(99289),g=r.n(V),m=r(76772);function w(t,a){return P.apply(this,arguments)}function P(){return P=g()(s()().mark(function t(a,o){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,m.request)("/api/generator/add",h()({method:"POST",headers:{"Content-Type":"application/json"},data:a},o||{})));case 1:case"end":return n.stop()}},t)})),P.apply(this,arguments)}function e(t,a){return T.apply(this,arguments)}function T(){return T=g()(s()().mark(function t(a,o){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,m.request)("/api/generator/delete",h()({method:"POST",headers:{"Content-Type":"application/json"},data:a},o||{})));case 1:case"end":return n.stop()}},t)})),T.apply(this,arguments)}function z(t,a){return C.apply(this,arguments)}function C(){return C=g()(s()().mark(function t(a,o){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,m.request)("/api/generator/download",h()({method:"GET",params:h()({},a)},o||{})));case 1:case"end":return n.stop()}},t)})),C.apply(this,arguments)}function S(t,a){return y.apply(this,arguments)}function y(){return y=g()(s()().mark(function t(a,o){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,m.request)("/api/generator/edit",h()({method:"POST",headers:{"Content-Type":"application/json"},data:a},o||{})));case 1:case"end":return n.stop()}},t)})),y.apply(this,arguments)}function I(t,a){return Z.apply(this,arguments)}function Z(){return Z=g()(s()().mark(function t(a,o){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,m.request)("/api/generator/get/vo",h()({method:"GET",params:h()({},a)},o||{})));case 1:case"end":return n.stop()}},t)})),Z.apply(this,arguments)}function $(t,a){return U.apply(this,arguments)}function U(){return U=g()(s()().mark(function t(a,o){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,m.request)("/api/generator/list/page",h()({method:"POST",headers:{"Content-Type":"application/json"},data:a},o||{})));case 1:case"end":return n.stop()}},t)})),U.apply(this,arguments)}function N(t,a){return b.apply(this,arguments)}function b(){return b=g()(s()().mark(function t(a,o){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,m.request)("/api/generator/list/page/vo",h()({method:"POST",headers:{"Content-Type":"application/json"},data:a},o||{})));case 1:case"end":return n.stop()}},t)})),b.apply(this,arguments)}function R(t,a){return G.apply(this,arguments)}function G(){return G=_asyncToGenerator(_regeneratorRuntime().mark(function t(a,o){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/generator/my/list/page/vo",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:a},o||{})));case 1:case"end":return n.stop()}},t)})),G.apply(this,arguments)}function W(t,a){return D.apply(this,arguments)}function D(){return D=g()(s()().mark(function t(a,o){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,m.request)("/api/generator/update",h()({method:"POST",headers:{"Content-Type":"application/json"},data:a},o||{})));case 1:case"end":return n.stop()}},t)})),D.apply(this,arguments)}function Y(t,a){return E.apply(this,arguments)}function E(){return E=g()(s()().mark(function t(a,o){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,m.request)("/api/generator/use",h()({method:"POST",headers:{"Content-Type":"application/json"},data:a},o||{})));case 1:case"end":return n.stop()}},t)})),E.apply(this,arguments)}}}]);
